# 绩效核算系统 - 项目沟通记录

## 项目概述

为公司人事部开发一个**绩效核算工具**，用于每月计算生产岗位同事的绩效工资。

---

## 沟通日期：2024年12月24日

---

## 一、已确定的需求

### 1. 系统形式
- **网页版**，使用 Streamlit（Python 库）开发
- 部署到公司内网 Mac Mini 服务器上

### 2. 权限控制
- **不需要单独做登录功能**
- 权限由公司内网系统统一控制
- 人事登录内网后，在界面上有专属入口点击进入
- 其他人看不到该入口

### 3. 功能要求
- 网页上直接展示计算结果
- 支持下载 Excel 表格
- 历史数据保留，随时可查

### 4. 数据来源
- 从 ERP 系统导出 **Excel 格式** 的数据
- 包含：人员信息、技能情况、技能详情等

### 5. 使用场景
- **使用者**：人事部 1 人
- **使用频率**：每月一次（做工资用）
- **人员规模**：约 30 人
- **计算范围**：只做生产岗位同事的绩效

### 6. 绩效计算特点（待细化）
- 根据人员的不同技能与绩效挂钩计算
- 分值有起始值
- 分值有封顶值
- 中间有阶梯浮动

---

## 二、待确定事项

| 事项 | 说明 | 状态 |
|------|------|------|
| 数据库方案 | 需确认服务器现有数据库类型（MySQL？PostgreSQL？其他？） | ⏳ 待确认 |
| 绩效计算规则 | 等拿到具体公式后再讨论 | ⏳ 待拿到 |
| 示例表格 | 需要 ERP 导出的人员数据样本、技能情况表样本 | ⏳ 待提供 |

---

## 三、合作方式约定

根据 `re.md` 文件中的规范：

### 沟通方式
- 用大白话解释，不说专业术语（如"回调"、"装饰器"）
- 写代码前先讲清楚思路，确认后再动手
- 代码里加大量中文 `print()`，让程序"会说话"

### 安全保障
- 只用相对路径（`./data`），不用绝对路径
- 涉及修改文件时，自动备份到 `./backup` 文件夹
- 代码带版本号，方便追踪

### 出错处理
- 关键操作用 try-except 保护
- 出错时给中文提示
- 需要安装什么库，明确给出命令

### 关于复杂公式
- 用户可以把表格放进项目文件夹
- Claude 读取表格后，用户用口语一条一条解释
- Claude 理解后复述确认，确认对了再写代码

---

## 四、开发路径规划

```
第一步：搞清楚绩效计算逻辑
   └── 用户提供表格和规则，Claude 理解并确认

第二步：先做"能用"的本地版本
   └── Python 脚本，把绩效计算逻辑跑通

第三步：加网页界面
   └── 用 Streamlit 包一层，能上传表格、显示结果、下载Excel

第四步：加历史记录功能
   └── 用数据库保存每月的计算结果

第五步：部署到 Mac Mini
   └── 放到服务器上，接入公司内网系统
```

---

## 五、下次继续时需要准备

1. **确认服务器数据库类型**（问一下管服务器的同事）
2. **拿到绩效计算规则/公式**
3. **准备示例表格**（可以脱敏处理）：
   - 一份 ERP 导出的人员数据
   - 一份技能情况表

---

## 六、项目文件说明

| 文件 | 说明 |
|------|------|
| `re.md` | 合作规范文件（RTF格式） |
| `项目沟通记录.md` | 本文件，记录沟通进度 |

---

*下次对话时，让 Claude 先读取本文件，即可快速了解项目背景和进度。*
